<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
    <title>Лабораторная работа №3</title>
    <style>
        .header { text-align: center; padding: 20px; background-color: #f0f0f0; }
        .clock { text-align: center; margin: 30px; }
        canvas { border: 1px solid #000; background: #fff; }
        .link { display: block; text-align: center; margin: 30px; font-size: 1.2em; }
    </style>
</h:head>
<h:body>
    <div class="header">
        <h1>Васильев Александр</h1>
        <h2>Группа P3214</h2>
        <h2>Вариант 39556</h2>
    </div>

    <div class="clock">
        <canvas id="digitalClock" width="300" height="50"></canvas>
    </div>

    <div class="link">
        <h:link outcome="main" value="Перейти к приложению">
            <f:param name="faces-redirect" value="true"/>
        </h:link>
    </div>
    <script>
        //<![CDATA[
            function drawClock() {
                const canvas = document.getElementById('digitalClock');
                const ctx = canvas.getContext('2d');
                const now = new Date();

                ctx.clearRect(0, 0, canvas.width, canvas.height);
                ctx.font = '24px monospace';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillStyle = '#000';

                const timeString = now.toLocaleDateString('ru-RU', {
                    day: '2-digit',
                    month: '2-digit',
                    year: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit',
                    second: '2-digit'
                });

                ctx.fillText(timeString, canvas.width / 2, canvas.height / 2);
            }

            setInterval(() => {
                drawClock();
            }, 11000);

            window.onload = () => {
                drawClock();
            };
        //]]>
    </script>
</h:body>
</html>