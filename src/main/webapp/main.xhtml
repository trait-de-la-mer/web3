
    <!DOCTYPE html>
    <html xmlns="http://www.w3.org/1999/xhtml"
          xmlns:h="http://xmlns.jcp.org/jsf/html"
          xmlns:f="http://xmlns.jcp.org/jsf/core"
          xmlns:p="http://primefaces.org/ui"
          xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>Проверка попадания точки</title>
        <style>
html {
    background-color: #4a4a4a;
    color: white;
}

#main {
  table-layout: auto;
  width: 100%;
}

td {
    text-align: center;
}

.forChoose {
    margin-left: 20px;
    margin-right: 20px;
}

.forChoose.ui-spinner .ui-spinner-input {
    background: gray !important;
    color: white !important;
    border: 2px solid green !important;
    border-radius: 8px !important;
}

.forChoose.ui-spinner .ui-spinner-button {
    background: gray !important;
    color: white !important;
    border-radius: 0 8px 8px 0 !important;
}

.forChoose.ui-inputtext {
    background: gray !important;
    color: white !important;
    border: 2px solid green !important;
    border-radius: 8px !important;
    padding: 8px !important;
}

.forChoose.ui-selectonemenu .ui-selectonemenu-label {
    color: white !important;
    border: 2px solid green !important;
}

.forChoose.ui-selectonemenu .ui-selectonemenu-label.ui-inputfield {
    color: white !important;
}
.forChoose.ui-selectonemenu {
    background: transparent !important;
}

#error {
    color: #ff6b6b;
    font-size: 0.85em;
    margin-top: 4px;
}


        </style>
    </h:head>
    <h:body>
        <table id="main">
            <tr>
                <td>
                    <h:graphicImage library="images" name="НормВазгВыр.png" height="100" width="100"/>
                </td>
                <td class="header">Васильев Александр, P3214, 465355 вариант 39556</td>
                <td>
                    <h:outputLink value="https://github.com/trait-de-la-mer" target="_blank">
                        <h:outputText value="gitHub"/>
                    </h:outputLink>
                </td>
            </tr>
            <tr>
                <td rowspan="2"></td>
                <td>
                    <canvas id="plotCanvas" width="450" height="450"></canvas>
                </td>
                <td rowspan="2">
                    <h:dataTable id="resultTable" value="#{plotBean.resultModel}" var="res">
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="X"/>
                            </f:facet>
                            <h:outputText value="#{res.x}"/>
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Y"/>
                            </f:facet>
                            <h:outputText value="#{res.y}"/>
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="R"/>
                            </f:facet>
                            <h:outputText value="#{res.r}"/>
                        </h:column>
                        <h:column>
                            <f:facet name="header">
                                <h:outputText value="Результат"/>
                            </f:facet>
                            <h:outputText value="#{res.hit ? 'Да' : 'Нет'}"/>
                        </h:column>
                    </h:dataTable>
                </td>
            </tr>
            <tr>
                <td>
                    <h:form>
                        <h:outputLabel value="Выберите X"/>
                        <p:spinner value="#{plotBean.x}" min="-5" max="5" stepFactor="1" class="forChoose" id="x">
                            <p:ajax event="change" 
                                    listener="#{plotBean.updateX}" 
                                    process="@this"
                                    oncomplete="redrawCanvas()"/>
                        </p:spinner>
                        <h:inputHidden id="xHidden" value="#{plotBean.x}" converter="bigDecimalConverter"/>
                        <h:outputLabel value="Выберите Y"/>
                        <p:inputText id="y" value="#{plotBean.y}" converter="bigDecimalConverter" required="true"
                        class="forChoose" type="number" step="any" min="-5" max="5"/>
                        <h:outputLabel value="Выберите R"/>
                        <p:selectOneMenu value="#{plotBean.r}" class="forChoose" id="r">
                            <f:selectItem itemLabel="1" itemValue="1"/>
                            <f:selectItem itemLabel="2" itemValue="2"/>
                            <f:selectItem itemLabel="3" itemValue="3"/>
                            <f:selectItem itemLabel="4" itemValue="4"/>
                            <f:selectItem itemLabel="5" itemValue="5"/>
                            <p:ajax event="change" oncomplete="redrawCanvas()"/>
                        </p:selectOneMenu>
                        <p:commandButton value="Проверить"
                 action="#{plotBean.checkHit}" 
                 update="@form resultTable"
                 oncomplete="handleErrors(xhr, status, args); redrawCanvas()"
                 onclick="return validateForm()" 
                 id="submitBtn"/>
                    </h:form>
                    <div id="error" hidden="true">sssss</div>
                </td>
            </tr>
            <tr>
                <td colspan="3" class="footer">Санкт-Петербург 2025</td>
            </tr>
        </table>
        <h:outputScript library="js" name="main.js" target="body"/>
</h:body>
</html>